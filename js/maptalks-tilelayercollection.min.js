!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("maptalks")):"function"==typeof define&&define.amd?define(["exports","maptalks"],e):e((t=t||self).maptalks=t.maptalks||{},t.maptalks)}(this,function(t,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e=function(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),t};function l(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var i,p=(i=n.TileLayer,r(s,i),s);function s(){return a(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}var u="pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejh2N21nMzAxMmQzMnA5emRyN2lucW0ifQ.jSE-g2vsn48Ry928pqylcg",c="fb1bfb9e06cd7681813a42f4c934e1ea",y={TDT:{Normal:{url:"http://t0.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk="+c},Normal_Label:{url:"http://t0.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk="+c},Satellite:{url:"http://t0.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk="+c},Satellite_Label:{url:"http://t0.tianditu.gov.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk="+c},Terrain:{url:"http://t0.tianditu.gov.cn/DataServer?T=ter_w&X={x}&Y={y}&L={z}&tk="+c},Terrain_Label:{url:"http://t0.tianditu.gov.cn/DataServer?T=cta_w&X={x}&Y={y}&L={z}&tk="+c}},GEOQ:{Colour:{url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}"},Gray:{url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}"},Midnightblue:{url:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"}},Google:{Normal:{url:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"},Satellite:{url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}"}},Amap:{Normal:{url:"http://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{url:"http://webst01.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}"},Satellite_Label:{url:"http://webst01.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"}},Tencent:{Normal:{url:"http://rt0.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0"},Satellite:{url:"http://p0.map.gtimg.com/sateTiles/{z}/{m}/{n}/{x}_{y}.jpg"},Satellite_Label:{url:"http://rt3.map.gtimg.com/tile?z={z}&x={x}&y={y}&type=vector&styleid=3&version=117"},Terrain:{url:"http://p0.map.gtimg.com/demTiles/{z}/{m}/{n}/{x}_{y}.jpg"},Terrain_Label:{url:"http://rt3.map.gtimg.com/tile?z={z}&x={x}&y={y}&type=vector&styleid=3&version=117"}},Osm:{Normal:{url:"https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"},Bike:{url:"https://c.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=6170aad10dfd42a38d4d8c709a536f38"},Transport:{url:"https://c.tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey=6170aad10dfd42a38d4d8c709a536f38"},Humanitarian:{url:"https://tile-b.openstreetmap.fr/hot/{z}/{x}/{y}.png"}},CartoDb:{Dark:{url:"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"},Light:{url:"https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"}},Mapbox:{Streets:{url:"http://a.tiles.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token="+u},Dark:{url:"http://a.tiles.mapbox.com/v4/mapbox.dark/{z}/{x}/{y}.png?access_token="+u},LightDark:{url:"http://a.tiles.mapbox.com/v3/spatialdev.map-c9z2cyef/{z}/{x}/{y}.png"},Satellite:{url:"http://a.tiles.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token="+u},Light:{url:"http://a.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token="+u},Emerald:{url:"http://a.tiles.mapbox.com/v4/mapbox.emerald/{z}/{x}/{y}.png?access_token="+u},White:{url:"http://a.tiles.mapbox.com/v4/examples.map-h67hf2ic/{z}/{x}/{y}.png?access_token="+u},Red:{url:"http://a.tiles.mapbox.com/v4/examples.map-h68a1pf7,examples.npr-stations/{z}/{x}/{y}.png?access_token="+u},Outdoors:{url:"http://a.tiles.mapbox.com/v4/mapbox.outdoors/{z}/{x}/{y}.png?access_token="+u},StreetsSatellite:{url:"http://a.tiles.mapbox.com/v4/mapbox.streets-satellite/{z}/{x}/{y}.png?access_token="+u},Comic:{url:"http://a.tiles.mapbox.com/v4/mapbox.comic/{z}/{x}/{y}.png?access_token="+u},Building:{url:"https://b.tiles.mapbox.com/v3/osmbuildings.kbpalbpk/{z}/{x}/{y}.png"}}},m=(r(h,p),h);function h(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,h);var r=e.style||"Normal";return e.urlTemplate=y.TDT[r].url,o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,t,e))}var v=(r(g,p),g);function g(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,g);var r=e.style||"Colour";return e.urlTemplate=y.GEOQ[r].url,o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,t,e))}var f=(r(x,p),x);function x(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,x);var r=e.style||"Normal";return e.urlTemplate=y.Google[r].url,o(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,t,e))}var b=(r(d,p),d);function d(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,d);var r=e.style||"Normal";return e.urlTemplate=y.Amap[r].url,o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,t,e))}var _=(r(z,p),e(z,[{key:"getTileUrl",value:function(t,e,r){var a=this.getUrlArgs(t,e,r),l=a.z,o=a.x,n=a.y,i=Math.floor(o/16),p=Math.floor(n/16);return this.options.urlTemplate.replace("{x}",o).replace("{y}",n).replace("{z}",l).replace("{m}",i).replace("{n}",p)}},{key:"getUrlArgs",value:function(t,e,r){return{z:r,x:t,y:Math.pow(2,r)-1-e}}}]),z);function z(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,z);var r=e.style||"Normal";return e.urlTemplate=y.Tencent[r].url,o(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,t,e))}var T=(r(k,p),k);function k(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,k);var r=e.style||"Normal";return e.urlTemplate=y.Osm[r].url,o(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,t,e))}var w=(r(O,p),O);function O(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,O);var r=e.style||"light";return e.urlTemplate=y.CartoDb[r].url,o(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,t,e))}var L=(r(S,p),S);function S(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,S);var r=e.style||"light";return e.urlTemplate=y.Mapbox[r].url,o(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,t,e))}var j="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),D=(e(M,null,[{key:"uuid",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"ID",e=new Array(36),r=0,a=void 0,l=0;l<36;l++)8===l||13===l||18===l||23===l?e[l]="-":14===l?e[l]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),a=15&r,r>>=4,e[l]=j[19===l?3&a|8:a]);return t+"-"+e.join("")}}]),M);function M(){a(this,M)}var N=(e(G,null,[{key:"getTdtTileLayer",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{},a=[],l=new m(D.uuid(),r);if(a.push(l),r.style){r.style=r.style+"_Label";var o=new m(D.uuid(),r);a.push(o)}return new n.GroupTileLayer(t,a)}},{key:"getGeoqTileLayer",value:function(t,e){return new v(t,1<arguments.length&&void 0!==e?e:{})}},{key:"getGoogleTileLayer",value:function(t,e){return new f(t,1<arguments.length&&void 0!==e?e:{})}},{key:"getAmapTileLayer",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{};if("Satellite"!==r.style)return new b(t,r);var a=[],l=new b(D.uuid(),r);a.push(l),r.style=r.style+"_Label";var o=new b(D.uuid(),r);return a.push(o),new n.GroupTileLayer(t,a)}},{key:"getTencentTileLayer",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{};if("Normal"===r.style)return new _(t,r);var a=[],l=new _(D.uuid(),r);a.push(l),r.style=r.style+"_Label";var o=new _(D.uuid(),r);return a.push(o),new n.GroupTileLayer(t,a)}},{key:"getOsmTileLayer",value:function(t,e){return new T(t,1<arguments.length&&void 0!==e?e:{})}},{key:"getCartoDbTileLayer",value:function(t,e){return new w(t,1<arguments.length&&void 0!==e?e:{})}},{key:"getMapboxTileLayer",value:function(t,e){return new L(t,1<arguments.length&&void 0!==e?e:{})}}]),G);function G(){a(this,G)}t.TileLayerCollection=N,Object.defineProperty(t,"__esModule",{value:!0})});
